!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){t.exports=o(2)},function(t,e,o){},function(t,e,o){"use strict";o.r(e);o(1);function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tasksArray=[]}var e,o,r;return e=t,(o=[{key:"getTasks",value:function(){return this.tasksArray.slice()}},{key:"setTasks",value:function(t){this.tasksArray=t}},{key:"tasksArrayInit",value:function(){var t=localStorage.getItem("taskItems");t&&this.setTasks(JSON.parse(t))}},{key:"updateLocalStorage",value:function(t){var e=JSON.stringify(t);localStorage.setItem("taskItems",e)}}])&&n(e.prototype,o),r&&n(e,r),t}();function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.inputField=document.querySelector(".new-todo"),this.toggleAll=document.querySelector("#toggle-all"),this.inputField.addEventListener("keydown",(function(t){"Enter"===t.key&&(p.toDoWidget.addTask(t.target.value),t.target.value=null)})),this.toggleAll.addEventListener("click",(function(){!0===e.toggleAll.checked?e.toggleAllTasks("completeAll"):e.toggleAllTasks("clearAll")}))}var e,o,n;return e=t,(o=[{key:"toggleAllTasks",value:function(t){var e=document.querySelectorAll(".todo-list > li");e&&e.forEach((function(e,o){var n=e.firstElementChild.getAttribute("data-id");"completeAll"===t&&(e.matches(".completed")||(e.classList.add("completed"),e.querySelector(".toggle").checked=!0,p.toDoWidget.updateTask(n,!0))),"clearAll"===t&&e.matches(".completed")&&(e.classList.remove("completed"),e.querySelector(".toggle").checked=!1,p.toDoWidget.updateTask(n,!1))}))}},{key:"toggleAllTasksInit",value:function(){var t=document.querySelectorAll(".todo-list > li"),e=0;t.forEach((function(t){t.classList.contains("completed")&&e++})),t.length===e&&(this.toggleAll.checked=!0)}}])&&a(e.prototype,o),n&&a(e,n),t}();function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,o,n;return e=t,(o=[{key:"generateId",value:function(){return"f".concat((+new Date).toString(16))}},{key:"generateTaskProps",value:function(t,e,o){return{id:o,status:t,text:e}}}])&&i(e.prototype,o),n&&i(e,n),t}());function c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mainSection=document.querySelector(".main"),this.footer=document.querySelector(".footer"),this.toDoCount=document.querySelector(".todo-count"),this.clearAllCompleted=document.querySelector(".clear-completed"),this.typeSelector=document.querySelectorAll(".filters > li > a"),this.clearAllCompleted.addEventListener("click",(function(){p.toDoWidget.deleteAllCompleteTasks()})),this.typeSelector.forEach((function(t){t.addEventListener("click",(function(t){e.typeSelector.forEach((function(t){return t.classList.remove("selected")})),t.currentTarget.classList.add("selected"),e.filterTasks(t.currentTarget.classList[0])}))}))}var e,o,n;return e=t,(o=[{key:"dashBoardShowToggle",value:function(t){0===t.length?(this.mainSection.style.display="none",this.footer.style.display="none"):(this.mainSection.style.display="block",this.footer.style.display="block")}},{key:"clearAllCompletedButtonShowToggle",value:function(){var t=p.toDoWidget.store.getTasks().filter((function(t){return!0===t.status})).length;this.clearAllCompleted.style.display="none",t>0&&(console.log("вкл"),this.clearAllCompleted.style.display="block")}},{key:"setCounter",value:function(){var t=p.toDoWidget.store.getTasks().filter((function(t){return!0===t.status})).length,e=p.toDoWidget.store.getTasks().length-t;this.toDoCount.firstElementChild.textContent=e}},{key:"filterTasks",value:function(t){var e=function(t){var e=document.querySelectorAll(".todo-list > li"),o=document.querySelectorAll(".completed");e.forEach((function(t){t.classList.remove("hidden")})),"active"===t&&o.forEach((function(t){t.classList.add("hidden")})),"completed"===t&&(e.forEach((function(t){t.classList.add("hidden")})),o.forEach((function(t){t.classList.remove("hidden")})))};switch(t){case"no-filter":return e();case"active-filter":return e("active");case"complete-filter":return e("completed");default:return}}}])&&c(e.prototype,o),n&&c(e,n),t}();var d=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.toDoList=document.querySelector(".todo-list"),this.toDoList.addEventListener("click",(function(t){var e=t.target.closest("input"),o=t.target.closest(".destroy");if(e){var n,r=t.target.closest("li"),a=r.firstElementChild.getAttribute("data-id");r.matches(".completed")?(n=!1,p.toDoWidget.updateTask(a,n)):(n=!0,p.toDoWidget.updateTask(a,n)),r.classList.toggle("completed")}if(o){var l=t.target.closest("li");p.toDoWidget.deleteTask(l)}}))};function f(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clearAllCompleted=document.querySelector(".clear-completed"),this.store=new r,this.content=new d,this.dashBoard=new u,this.input=new l}var e,o,n;return e=t,(o=[{key:"createTask",value:function(t,e,o){var n=document.createElement("li");n.innerHTML=' \n\t\t\t\t\t<div class="view" data-id="'.concat(e,'">\n\t\t\t\t\t\t<input class="toggle" type="checkbox">\n\t\t\t\t\t\t<label>').concat(t,'</label>\n\t\t\t\t\t\t<button class="destroy"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input class="edit">'),o&&(n.classList.add("completed"),n.querySelector("input.toggle").checked=!0),this.content.toDoList.appendChild(n)}},{key:"addTask",value:function(t){if(t){var e=s.generateId(),o=s.generateTaskProps(!1,t,e),n=this.store.getTasks();n.push(o),this.store.setTasks(n),this.store.updateLocalStorage(n),this.createTask(t,e),this.dashBoard.dashBoardShowToggle(n)}this.dashBoard.setCounter(),this.dashBoard.clearAllCompletedButtonShowToggle(),this.input.toggleAllTasksInit()}},{key:"deleteTask",value:function(t){var e=t.firstElementChild.getAttribute("data-id"),o=this.store.getTasks().filter((function(t){return t.id!==e}));this.store.updateLocalStorage(o),this.store.tasksArrayInit(),t.remove(),this.dashBoard.dashBoardShowToggle(o),this.dashBoard.setCounter(),this.dashBoard.clearAllCompletedButtonShowToggle(),this.input.toggleAllTasksInit()}},{key:"updateTask",value:function(t,e){var o=this.store.getTasks();o.map((function(o){o.id===t&&void 0!==e&&(o.status=e)})),this.store.updateLocalStorage(o),this.store.tasksArrayInit(),this.dashBoard.setCounter(),this.dashBoard.clearAllCompletedButtonShowToggle(),this.input.toggleAllTasksInit()}},{key:"deleteAllCompleteTasks",value:function(){var t=this;document.querySelectorAll(".todo-list > .completed").forEach((function(e){return t.deleteTask(e)}))}}])&&f(e.prototype,o),n&&f(e,n),t}();function g(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.toDoWidget=new h}var e,o,n;return e=t,(o=[{key:"init",value:function(){var t=this;this.toDoWidget.store.tasksArrayInit();var e=this.toDoWidget.store.getTasks();e.map((function(e){t.toDoWidget.createTask(e.text,e.id,e.status)})),this.toDoWidget.dashBoard.dashBoardShowToggle(e),this.toDoWidget.dashBoard.setCounter(),this.toDoWidget.dashBoard.clearAllCompletedButtonShowToggle(),this.toDoWidget.input.toggleAllTasksInit()}}])&&g(e.prototype,o),n&&g(e,n),t}());p.init()}]);